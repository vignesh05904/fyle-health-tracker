<div class="grid grid-cols-1 px-5 md:px-20 animate-fade-in">
    <div class="flex flex-col md:flex-row justify-between pb-5 gap-3">
      <input [(ngModel)]="searchName" (input)="filterByNameType()" class="w-full md:w-1/3 px-4 py-3 rounded-lg bg-primary-light md:bg-purple-layout text-white placeholder-white focus:outline-none" placeholder="Search by name"/>
  
      <select [(ngModel)]="workoutType" (change)="filterByNameType(workoutType)" id="workoutType" class="px-4 py-2 rounded-lg bg-primary-light text-white focus:outline-none">
        <option value="">All</option>
        <option value="Running">Running</option>
        <option value="Swimming">Swimming</option>
        <option value="Cycling">Cycling</option>
      </select>
    </div>
  
    <div class="rounded-lg font-custom shadow-2xl overflow-x-auto">
      <table class="min-w-full text-white shadow-lg rounded-lg overflow-hidden">
        <thead class="bg-table-header rounded-lg shadow-lg">
          <tr class="rounded-lg">
            <th class="px-6 py-4 text-left whitespace-nowrap">Name</th>
            <th class="px-6 py-4 text-left whitespace-nowrap">Workouts</th>
            <th class="px-6 py-4 text-center whitespace-nowrap">Number of Workouts</th>
            <th class="px-6 py-4 text-center whitespace-nowrap">Total Workout Minutes</th>
          </tr>
        </thead>
        <tbody class="bg-table-body">
          <tr *ngFor="let user of paginatedUsers" class="border-none">
            <td class="px-6 py-4">{{ user.name }}</td>
            <td class="px-6 py-4">
              <span *ngFor="let workout of user.workouts; let i = index">
                {{ workout.type }}<span *ngIf="i < user.workouts.length - 1">, </span>
              </span>
            </td>
            <td class="px-6 py-4 font-light text-center">{{ getWorkoutCount(user.workouts) }}</td>
            <td class="px-6 py-4 font-light text-center">{{ getTotalMinutes(user.workouts) }} min</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 justify-center items-center text-center">
    <div class="flex flex-wrap justify-center md:justify-end items-center gap-5 p-4">
      <button class="px-4 py-2 bg-purple-button text-white rounded-md hover:bg-purple-500 focus:outline-none hover:bg-purple-button-hover disabled:opacity-50" 
        [disabled]="currentPage === 1" (click)="goToPreviousPage()">Previous</button>
  
      <div class="flex flex-wrap justify-center items-center text-white space-x-1">
        <button *ngFor="let page of pages" 
          class="px-4 py-2 bg-purple-button-hover text-white rounded-md hover:bg-purple-500 hover:bg-purple-button-hover" 
          [ngClass]="{'bg-purple-button-hover': currentPage === page, 'hover:bg-purple-button': currentPage !== page}" 
          (click)="goToPage(page)">
          {{ page }}
        </button>
      </div>
  
      <button class="px-4 py-2 bg-purple-button text-white rounded-md hover:bg-purple-500 focus:outline-none hover:bg-purple-button-hover disabled:opacity-50" 
        [disabled]="currentPage === totalPages" (click)="goToNextPage()">Next</button>
    </div>
  
    <div class="flex justify-center md:justify-start items-center gap-2 p-4">
     
      <select id="itemsPerPage" [(ngModel)]="itemsPerPage" (change)="onItemsPerPageChange()" 
        class="px-4 py-2 rounded-lg focus:outline-none bg-primary-light text-white cursor-pointer">
        <option value="5">5</option>
        <option value="10">10</option>
        <option value="20">20</option>
        <option value="50">50</option>
      </select>
      <span class="text-white text-md"> / page </span>
      
    </div>
  </div>
